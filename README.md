# Gold Trading System

‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ó‡∏£‡∏î‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Next.js, Node.js, ‡πÅ‡∏•‡∏∞ MongoDB

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

- [‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å](#‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å)
- [‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ](#‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ)
- [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ)
- [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
- [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
- [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- [API Endpoints](#api-endpoints)
- [‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)

## üöÄ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å

- üìä ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå‡∏à‡∏≤‡∏Å MTS ‡πÅ‡∏•‡∏∞ TradingView
- üí∞ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö THB ‡πÅ‡∏•‡∏∞ USD
- üìà ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (1m, 5m, 30m, 1h, 1d, 1w)
- üîÑ ‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠-‡∏Ç‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå
- üë§ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (User) ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö (Admin)
- üéõÔ∏è Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏£‡∏î (Online/Pause/Stop)
- üí± ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô THB ‚áÑ USD
- üì± ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Dark/Light Mode
- üîê ‡∏£‡∏∞‡∏ö‡∏ö Authentication ‡∏î‡πâ‡∏ß‡∏¢ JWT

## üõ†Ô∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### Frontend
- **Next.js 16** (App Router)
- **React 19.2**
- **TypeScript**
- **Tailwind CSS v4**
- **Chart.js** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏≤‡∏ü)
- **Socket.IO Client** (WebSocket)
- **Shadcn/UI** (UI Components)

### Backend
- **Node.js** + **Express.js**
- **MongoDB** (Database)
- **Socket.IO** (WebSocket Server)
- **JWT** (Authentication)
- **Bcrypt** (Password Hashing)

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

\`\`\`
gold-trading-system/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # API Routes (Next.js)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/               # Admin endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                # Authentication
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prices/              # Price data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trading/             # Trading operations
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wallet/              # Wallet operations
‚îÇ   ‚îú‚îÄ‚îÄ components/              # React Components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/               # Login, Register
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/             # Navbar, Layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trading/            # TradePanel, Charts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transactions/       # Transaction history
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wallet/             # Wallet cards, dialogs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                 # Reusable UI components
‚îÇ   ‚îú‚îÄ‚îÄ contexts/               # React Contexts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx    # Authentication context
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                  # Custom React hooks
‚îÇ   ‚îú‚îÄ‚îÄ lib/                    # Utility libraries
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api-client.ts      # API client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.ts           # Helper functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ websocket.ts       # WebSocket client
‚îÇ   ‚îú‚îÄ‚îÄ pages/                  # Page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminPage.tsx      # Admin dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.tsx      # Login page
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainDashboard.tsx  # User dashboard
‚îÇ   ‚îú‚îÄ‚îÄ globals.css            # Global styles
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx             # Root layout
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Home page
‚îÇ
‚îú‚îÄ‚îÄ server/                       # Backend Server
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.js         # MongoDB configuration
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.js             # JWT middleware
‚îÇ   ‚îú‚îÄ‚îÄ models/                 # MongoDB models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ User.js            # User model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GoldPrice.js       # Gold price model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GoldStatus.js      # Gold status model
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Transaction.js     # Transaction model
‚îÇ   ‚îú‚îÄ‚îÄ routes/                 # Express routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # Authentication routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.js           # Admin routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prices.js          # Price routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trading.js         # Trading routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wallet.js          # Wallet routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ status.js          # Status routes
‚îÇ   ‚îú‚îÄ‚îÄ services/               # Business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goldPriceService.js      # Price updates
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goldStatusService.js     # Status management
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exchangeRateService.js   # Currency exchange
‚îÇ   ‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create-admin.js    # Create admin user
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mongodb-setup.js   # Setup database
‚îÇ   ‚îú‚îÄ‚îÄ tests/                  # Unit tests
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ run-all-tests.ts   # Test runner
‚îÇ   ‚îî‚îÄ‚îÄ server.js              # Main server file
‚îÇ
‚îú‚îÄ‚îÄ public/                      # Static files
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ next.config.mjs
‚îî‚îÄ‚îÄ README.md
\`\`\`

## üóÑÔ∏è ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### Collections

#### 1. **users**
\`\`\`javascript
{
  _id: ObjectId,
  email: String,           // ‡∏≠‡∏µ‡πÄ‡∏°‡∏• (unique)
  username: String,        // ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (unique)
  password: String,        // ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (hashed with bcrypt)
  role: String,            // "user" ‡∏´‡∏£‡∏∑‡∏≠ "admin"
  isActive: Boolean,       // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
  createdAt: Date,
  updatedAt: Date
}
\`\`\`

#### 2. **wallets**
\`\`\`javascript
{
  _id: ObjectId,
  userId: ObjectId,        // Reference to users
  balance: {
    THB: Number,          // ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏≤‡∏ó
    USD: Number           // ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≠‡∏•‡∏•‡∏≤‡∏£‡πå
  },
  goldHoldings: {
    SPOT: Number,             // ‡∏ó‡∏≠‡∏á Spot (troy oz)
    GOLD_9999: Number,        // ‡∏ó‡∏≠‡∏á 99.99% Global
    GOLD_965: Number,         // ‡∏ó‡∏≠‡∏á 96.5% Global
    GOLD_9999_MTS: Number,    // ‡∏ó‡∏≠‡∏á 99.99% MTS (‡∏Å‡∏£‡∏±‡∏°)
    GOLD_965_MTS: Number,     // ‡∏ó‡∏≠‡∏á 96.5% MTS (‡∏Å‡∏£‡∏±‡∏°)
    GOLD_965_ASSO: Number     // ‡∏ó‡∏≠‡∏á 96.5% ‡∏™‡∏°‡∏≤‡∏Ñ‡∏° (‡∏Å‡∏£‡∏±‡∏°)
  },
  averageCosts: {
    SPOT: Number,             // ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (USD)
    GOLD_9999: Number,        // ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (THB)
    GOLD_965: Number,         // ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (THB)
    GOLD_9999_MTS: Number,    // ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (THB)
    GOLD_965_MTS: Number,     // ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (THB)
    GOLD_965_ASSO: Number     // ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (THB)
  },
  createdAt: Date,
  updatedAt: Date
}
\`\`\`

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ averageCosts:**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ **‡∏ã‡∏∑‡πâ‡∏≠**: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÉ‡∏´‡∏°‡πà = (‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏î‡∏¥‡∏° √ó ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Å‡πà‡∏≤ + ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ã‡∏∑‡πâ‡∏≠ √ó ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ã‡∏∑‡πâ‡∏≠) / ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ß‡∏°
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ **‡∏Ç‡∏≤‡∏¢**: ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡∏≤‡∏¢‡∏´‡∏°‡∏î: ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏õ‡πá‡∏ô 0

#### 3. **transactions**
\`\`\`javascript
{
  _id: ObjectId,
  userId: ObjectId,        // Reference to users
  goldType: String,        // ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏≠‡∏á (GOLD_9999_MTS, GOLD_965_MTS, etc.)
  action: String,          // "BUY" ‡∏´‡∏£‡∏∑‡∏≠ "SELL"
  amount: Number,          // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
  price: Number,           // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢
  totalCost: Number,       // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°
  currency: String,        // "THB" ‡∏´‡∏£‡∏∑‡∏≠ "USD"
  status: String,          // "PENDING", "COMPLETED", "FAILED"
  createdAt: Date,
  updatedAt: Date
}
\`\`\`

#### 4. **gold_statuses**
\`\`\`javascript
{
  _id: ObjectId,
  goldType: String,        // ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏≠‡∏á (unique)
  status: String,          // "ONLINE", "PAUSE", "STOP"
  updatedAt: Date
}
\`\`\`

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á Status:**
- **ONLINE**: ‡πÄ‡∏ó‡∏£‡∏î‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå
- **PAUSE**: ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ó‡∏£‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
- **STOP**: ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ó‡∏£‡∏î‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ (null)

#### 5. **gold_price_history**
\`\`\`javascript
{
  _id: ObjectId,
  ts: Date,               // Timestamp
  payload: {
    timestamp: Number,
    gold965_asso: {
      buyIn: Number,
      sellOut: Number,
      price: Number,
      source: String
    },
    gold9999_mts: { /* ... */ },
    gold965_mts: { /* ... */ },
    spot: { /* ... */ },
    // ... ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÜ
  }
}
\`\`\`

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
- Node.js >= 18.x
- MongoDB >= 5.0
- npm ‡∏´‡∏£‡∏∑‡∏≠ pnpm

### 1. Clone Repository
\`\`\`bash
git clone <repository-url>
cd gold-trading-system
\`\`\`

### 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies
\`\`\`bash
npm install
# ‡∏´‡∏£‡∏∑‡∏≠
pnpm install
\`\`\`

### 3. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô MongoDB

**‡∏ö‡∏ô macOS (Homebrew):**
\`\`\`bash
brew tap mongodb/brew
brew install mongodb-community
brew services start mongodb-community
\`\`\`

**‡∏ö‡∏ô Ubuntu/Linux:**
\`\`\`bash
sudo apt-get install -y mongodb-org
sudo systemctl start mongod
sudo systemctl enable mongod
\`\`\`

**‡∏ö‡∏ô Windows:**
‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏≤‡∏Å [MongoDB Official](https://www.mongodb.com/try/download/community)

### 4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå root:

\`\`\`env
# MongoDB
MONGODB_URI=mongodb://localhost:27017/gold-trading

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# API URL
NEXT_PUBLIC_API_URL=http://localhost:5000

# Server Port
PORT=5000
\`\`\`

### 5. Setup Database ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Admin User

\`\`\`bash
# Setup database ‡πÅ‡∏•‡∏∞ collections
node server/scripts/mongodb-setup.js

# ‡∏™‡∏£‡πâ‡∏≤‡∏á admin user (email: admin@example.com, password: admin123)
node server/scripts/create-admin.js
\`\`\`

### 6. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Development Server

**Terminal 1 - Backend Server:**
\`\`\`bash
cd server
node server.js
\`\`\`

**Terminal 2 - Frontend (Next.js):**
\`\`\`bash
npm run dev
# ‡∏´‡∏£‡∏∑‡∏≠
pnpm dev
\`\`\`

‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà [http://localhost:3000](http://localhost:3000)

## üìñ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö User

1. **‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô/‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
   - ‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô

2. **‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏ù‡∏≤‡∏Å" ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô THB
   - ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ù‡∏≤‡∏Å

3. **‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢‡∏ó‡∏≠‡∏á**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏≠‡∏á (MTS 99.99%, MTS 96.5%, ‡∏™‡∏°‡∏≤‡∏Ñ‡∏° 96.5%)
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å BUY ‡∏´‡∏£‡∏∑‡∏≠ SELL
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏Å‡∏£‡∏±‡∏°)
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ (THB/USD)
   - ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

4. **‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô"
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á (THB/USD)
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
   - ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô

5. **‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å tab ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤: 1m, 5m, 30m, 1h, 1d, 1w
   - ‡∏Å‡∏£‡∏≤‡∏ü‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin

1. **‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ admin account**
   \`\`\`
   Email: admin@example.com
   Password: admin123
   \`\`\`

2. **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏£‡∏î**
   - ONLINE: ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡∏£‡∏î‡∏õ‡∏Å‡∏ï‡∏¥
   - PAUSE: ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà)
   - STOP: ‡∏´‡∏¢‡∏∏‡∏î‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤)

## üîå API Endpoints

### Authentication
- `POST /api/auth/register` - ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà
- `POST /api/auth/login` - ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö

### Wallet
- `GET /api/wallet` - ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô
- `POST /api/wallet/deposit` - ‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô
- `POST /api/wallet/withdraw` - ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
- `POST /api/wallet/exchange` - ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô

### Prices
- `GET /api/prices/current` - ‡∏î‡∏π‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- `GET /api/prices/history/:goldType` - ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏Ñ‡∏≤

### Trading
- `POST /api/trading/execute` - ‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢‡∏ó‡∏≠‡∏á
- `GET /api/trading/history` - ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢
- `POST /api/trading/execute-bulk` - ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö bulk (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö)

### Admin
- `GET /api/admin/status` - ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- `PUT /api/admin/status/:goldType` - ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏£‡∏±‡∏ô Unit Tests

\`\`\`bash
cd server
node tests/run-all-tests.ts
\`\`\`

### Test Cases ‡∏´‡∏•‡∏±‡∏Å

1. **TC-001: Concurrent Access**
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

2. **TC-002: Transaction Stability**
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Transaction 100+ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

3. **TC-003: Price Status Control**
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Online/Pause/Stop)

4. **TC-004: RealTime Display**
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå

### Manual Testing

\`\`\`bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API endpoint
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"admin123"}'
\`\`\`

## üöÄ Production Deployment

### Build ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

\`\`\`bash
npm run build
npm start
\`\`\`

### Environment Variables ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

\`\`\`env
NODE_ENV=production
MONGODB_URI=mongodb+srv://<username>:<password>@cluster.mongodb.net/gold-trading
JWT_SECRET=<strong-random-secret>
NEXT_PUBLIC_API_URL=https://your-domain.com
\`\`\`

## üêõ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ

### MongoDB Connection Failed
\`\`\`bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ MongoDB ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
# macOS
brew services list | grep mongodb

# Linux
sudo systemctl status mongod
\`\`\`

### Port Already in Use
\`\`\`bash
# ‡∏Ü‡πà‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 5000
lsof -ti:5000 | xargs kill -9

# ‡∏Ü‡πà‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 3000
lsof -ti:3000 | xargs kill -9
\`\`\`

### WebSocket Connection Failed
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Backend Server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö CORS settings ‡πÉ‡∏ô server.js
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö firewall settings

## üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

1. **‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (Average Cost)**
   - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏≠‡∏á
   - ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≥‡πÑ‡∏£/‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô
   - ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô WalletCard

2. **‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢**
   - GOLD_9999_MTS, GOLD_965_MTS, GOLD_965_ASSO ‡πÉ‡∏ä‡πâ THB ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å
   - SPOT ‡πÉ‡∏ä‡πâ USD
   - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

3. **Status Control**
   - Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° status ‡πÅ‡∏ö‡∏ö real-time
   - PAUSE ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
   - STOP ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ó‡∏£‡∏î‡πÑ‡∏î‡πâ

4. **Security**
   - ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å hash ‡∏î‡πâ‡∏ß‡∏¢ bcrypt
   - ‡πÉ‡∏ä‡πâ JWT ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö authentication
   - Middleware ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö authorization ‡∏ó‡∏∏‡∏Å protected route

## üë®‚Äçüíª ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠

‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ contribute ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢:
1. Fork repository
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á feature branch
3. Commit ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
4. Push ‡πÑ‡∏õ‡∏¢‡∏±‡∏á branch
5. ‡πÄ‡∏õ‡∏¥‡∏î Pull Request

## üìÑ License

MIT License - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏¥‡∏™‡∏£‡∏∞
